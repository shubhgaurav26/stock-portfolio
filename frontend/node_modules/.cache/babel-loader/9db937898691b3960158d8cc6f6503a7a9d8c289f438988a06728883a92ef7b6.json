{"ast":null,"code":"const API_BASE_URL = \"http://localhost:8080/api/stocks\";\nconst fetchWithErrorHandling = async (url, options = {}) => {\n  const response = await fetch(url, options);\n  if (!response.ok) {\n    throw new Error(`Error ${response.status}: ${response.statusText}`);\n  }\n\n  // ✅ Handle empty responses (DELETE & PUT might return 204 No Content)\n  if (response.status === 204 || response.headers.get(\"content-length\") === \"0\") {\n    return {}; // Prevent JSON parsing error\n  }\n  return response.json();\n};\nexport const getAllStocks = () => fetchWithErrorHandling(`${API_BASE_URL}`);\nexport const getPortfolioValue = () => fetchWithErrorHandling(`${API_BASE_URL}/portfolio-value`);\nexport const createStock = stock => fetchWithErrorHandling(API_BASE_URL, {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  },\n  body: JSON.stringify(stock)\n});\nexport const updateStock = (id, stock) => fetchWithErrorHandling(`${API_BASE_URL}/${id}`, {\n  method: \"PUT\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  },\n  body: JSON.stringify(stock)\n});\nexport const deleteStock = id => fetchWithErrorHandling(`${API_BASE_URL}/${id}`, {\n  method: \"DELETE\"\n}).then(() => ({})) // ✅ Ensure empty response doesn't break UI\n.catch(error => {\n  console.error(\"Delete error:\", error);\n  throw error;\n});","map":{"version":3,"names":["API_BASE_URL","fetchWithErrorHandling","url","options","response","fetch","ok","Error","status","statusText","headers","get","json","getAllStocks","getPortfolioValue","createStock","stock","method","body","JSON","stringify","updateStock","id","deleteStock","then","catch","error","console"],"sources":["/Users/shubhamgaurav/Desktop/stock-portfolio/frontend/src/api/stockApi.js"],"sourcesContent":["const API_BASE_URL = \"http://localhost:8080/api/stocks\";\n\nconst fetchWithErrorHandling = async (url, options = {}) => {\n  const response = await fetch(url, options);\n\n  if (!response.ok) {\n    throw new Error(`Error ${response.status}: ${response.statusText}`);\n  }\n\n  // ✅ Handle empty responses (DELETE & PUT might return 204 No Content)\n  if (response.status === 204 || response.headers.get(\"content-length\") === \"0\") {\n    return {}; // Prevent JSON parsing error\n  }\n\n  return response.json();\n};\n\nexport const getAllStocks = () => fetchWithErrorHandling(`${API_BASE_URL}`);\n\nexport const getPortfolioValue = () =>\n  fetchWithErrorHandling(`${API_BASE_URL}/portfolio-value`);\n\nexport const createStock = (stock) =>\n  fetchWithErrorHandling(API_BASE_URL, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(stock),\n  });\n\nexport const updateStock = (id, stock) =>\n  fetchWithErrorHandling(`${API_BASE_URL}/${id}`, {\n    method: \"PUT\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(stock),\n  });\n\nexport const deleteStock = (id) =>\n  fetchWithErrorHandling(`${API_BASE_URL}/${id}`, { method: \"DELETE\" })\n    .then(() => ({})) // ✅ Ensure empty response doesn't break UI\n    .catch((error) => {\n      console.error(\"Delete error:\", error);\n      throw error;\n    });\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,kCAAkC;AAEvD,MAAMC,sBAAsB,GAAG,MAAAA,CAAOC,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;EAC1D,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACH,GAAG,EAAEC,OAAO,CAAC;EAE1C,IAAI,CAACC,QAAQ,CAACE,EAAE,EAAE;IAChB,MAAM,IAAIC,KAAK,CAAC,SAASH,QAAQ,CAACI,MAAM,KAAKJ,QAAQ,CAACK,UAAU,EAAE,CAAC;EACrE;;EAEA;EACA,IAAIL,QAAQ,CAACI,MAAM,KAAK,GAAG,IAAIJ,QAAQ,CAACM,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,KAAK,GAAG,EAAE;IAC7E,OAAO,CAAC,CAAC,CAAC,CAAC;EACb;EAEA,OAAOP,QAAQ,CAACQ,IAAI,CAAC,CAAC;AACxB,CAAC;AAED,OAAO,MAAMC,YAAY,GAAGA,CAAA,KAAMZ,sBAAsB,CAAC,GAAGD,YAAY,EAAE,CAAC;AAE3E,OAAO,MAAMc,iBAAiB,GAAGA,CAAA,KAC/Bb,sBAAsB,CAAC,GAAGD,YAAY,kBAAkB,CAAC;AAE3D,OAAO,MAAMe,WAAW,GAAIC,KAAK,IAC/Bf,sBAAsB,CAACD,YAAY,EAAE;EACnCiB,MAAM,EAAE,MAAM;EACdP,OAAO,EAAE;IAAE,cAAc,EAAE;EAAmB,CAAC;EAC/CQ,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,KAAK;AAC5B,CAAC,CAAC;AAEJ,OAAO,MAAMK,WAAW,GAAGA,CAACC,EAAE,EAAEN,KAAK,KACnCf,sBAAsB,CAAC,GAAGD,YAAY,IAAIsB,EAAE,EAAE,EAAE;EAC9CL,MAAM,EAAE,KAAK;EACbP,OAAO,EAAE;IAAE,cAAc,EAAE;EAAmB,CAAC;EAC/CQ,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,KAAK;AAC5B,CAAC,CAAC;AAEJ,OAAO,MAAMO,WAAW,GAAID,EAAE,IAC5BrB,sBAAsB,CAAC,GAAGD,YAAY,IAAIsB,EAAE,EAAE,EAAE;EAAEL,MAAM,EAAE;AAAS,CAAC,CAAC,CAClEO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AAAA,CACjBC,KAAK,CAAEC,KAAK,IAAK;EAChBC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;EACrC,MAAMA,KAAK;AACb,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}